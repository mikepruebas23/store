(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminModule",(function(){return N}));var a=i("ofXK"),n=i("3Pt+"),s=i("kmnG"),r=i("d3UM"),o=i("qFsG"),l=i("NFeN"),c=i("Wp6s"),d=i("bTqV"),b=i("tyNb"),m=i("mrSG"),u=i("fXoL"),p=i("dNgK"),h=i("tazR"),f=i("N/25"),g=i("FKr1");function y(t,e){if(1&t&&(u.Sb(0,"mat-option",7),u.Sb(1,"div",8),u.Bc(2),u.Rb(),u.Rb()),2&t){const t=e.$implicit;u.ic("value",t.key),u.Bb(2),u.Cc(t.name)}}function S(t,e){if(1&t){const t=u.Tb();u.Sb(0,"form",1),u.Zb("ngSubmit",(function(){return u.rc(t),u.dc().updatePlayer()})),u.Sb(1,"mat-form-field",9),u.Sb(2,"mat-label"),u.Bc(3,"UID"),u.Rb(),u.Nb(4,"input",10,11),u.Rb(),u.Sb(6,"mat-form-field",2),u.Sb(7,"mat-label"),u.Bc(8,"RANKING POINTS"),u.Rb(),u.Nb(9,"input",12,11),u.Rb(),u.Sb(11,"button",5),u.Bc(12,"Actualizar"),u.Rb(),u.Rb()}if(2&t){const t=u.dc();u.ic("formGroup",t.playerToUpdateForm),u.Bb(11),u.ic("disabled",t.isDisabled2)}}const P=[{path:"",component:(()=>{class t{constructor(t,e,i){this._snackBar=t,this._rankingService=e,this._AuthService=i,this.isDisabled=!0,this.isDisabled2=!0,this.isVisible=!1,this.allPlayers=[],this.objectPlayer={name:"",key:""},this.dataList=[],this.dataPlayer={uid:"",tagName:null,rnkPoints:void 0},this.playerForm=new n.g({player:new n.d("",[n.s.required])}),this.playerToUpdateForm=new n.g({rnkPoints:new n.d("",[n.s.required]),uid:new n.d("",[n.s.required])}),this.iUpdate=!1,this.iTest=1}ngOnInit(){this.retrievePlayers()}retrievePlayers(){this._rankingService.getAll().then(t=>{t.valueChanges().subscribe(t=>{for(let e=0;e<t.length;e++)this.dataList.push(this.objectPlayer={name:t[e].tagName,key:t[e].uid})})})}findPlayer(){this.isDisabled=!0;const{player:t}=this.playerForm.value;this._AuthService.getUsers2(t).valueChanges().subscribe(t=>{this.dataPlayer={uid:t.uid,tagName:t.tagName,rnkPoints:t.rnkPoints},this.playerToUpdateForm.setValue({rnkPoints:this.dataPlayer.rnkPoints,uid:this.dataPlayer.uid})}),this.isVisible=!0,this.isDisabled2=!1}updatePlayer(){return Object(m.a)(this,void 0,void 0,(function*(){let{uid:t,rnkPoints:e}=this.playerToUpdateForm.value;e=parseInt(e);let i={uid:t,email:"",emailVerified:!0,role:null,displayName:"",photoURL:"",tagName:"",rnkPoints:e,main:"",secondary:"",state:"",switchCode:"",position:""};this._AuthService.getUsers2(t).valueChanges().subscribe(t=>{let a="SUSCRIPTOR";a="armacomiguel@gmail.com"==t.email?"ADMIN":"SUSCRIPTOR",i.uid=t.uid,i.email=t.email,i.emailVerified=t.emailVerified,i.role=a,i.displayName=t.displayName,i.photoURL=t.photoURL,i.tagName=t.tagName,i.rnkPoints=e,i.main=t.main,i.secondary=t.secondary,i.state=t.state,i.switchCode=t.switchCode,i.position=t.position,this.isDisabled2=!0,this._AuthService.updateUserSmashAdmin(i),this.openSnackBar("Puntos Actualizados!"),this.isVisible=!1,this.isDisabled2=!1})}))}checkData(t){t&&(this.isDisabled=!1),this.isVisible=!1,this.isDisabled2=!0}openSnackBar(t){this._snackBar.open(t,"OK",{duration:5e3}),this.isDisabled=!1}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(p.a),u.Mb(h.a),u.Mb(f.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-admin"]],decls:11,vars:4,consts:[[1,"admin"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"form-group","mr-20"],["formControlName","player",3,"ngModelChange"],["class","list-icon",3,"value",4,"ngFor","ngForOf"],["type","submit","mat-flat-button","","color","primary",1,"w-100","mt-30",3,"disabled"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"list-icon",3,"value"],[1,"center-text"],["appearance","outline",1,"d-none"],["matInput","","formControlName","uid","placeholder","uid","autocomplete","off",1,"form-control"],["input",""],["matInput","","formControlName","rnkPoints","placeholder","Puntos","autocomplete","off",1,"form-control"]],template:function(t,e){1&t&&(u.Sb(0,"mat-card",0),u.Nb(1,"br"),u.Sb(2,"form",1),u.Zb("ngSubmit",(function(){return e.findPlayer()})),u.Sb(3,"mat-form-field",2),u.Sb(4,"mat-label"),u.Bc(5,"JUGADOR"),u.Rb(),u.Sb(6,"mat-select",3),u.Zb("ngModelChange",(function(t){return e.checkData(t)})),u.zc(7,y,3,2,"mat-option",4),u.Rb(),u.Rb(),u.Sb(8,"button",5),u.Bc(9,"Buscar"),u.Rb(),u.Rb(),u.zc(10,S,13,2,"form",6),u.Rb()),2&t&&(u.Bb(2),u.ic("formGroup",e.playerForm),u.Bb(5),u.ic("ngForOf",e.dataList),u.Bb(1),u.ic("disabled",e.isDisabled),u.Bb(2),u.ic("ngIf",e.isVisible))},directives:[c.a,n.t,n.o,n.h,s.c,s.f,r.a,n.n,n.f,a.j,d.a,a.k,g.k,o.a,n.b],styles:[".admin[_ngcontent-%COMP%]{width:85%;margin:0 auto}.d-none[_ngcontent-%COMP%]{display:none}.mr-20[_ngcontent-%COMP%]{margin-right:20px}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[b.c.forChild(P)],b.c]}),t})(),N=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[a.c,k,n.q,s.e,r.b,o.b,l.b,c.d,d.b]]}),t})()}}]);